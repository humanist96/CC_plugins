import type { Tutorial } from "@/types/tutorial"

export const tutorial05: Tutorial = {
  slug: "05-data-analysis",
  title: "데이터 분석과 시각화",
  description: "Data 플러그인으로 SQL 쿼리 작성, 데이터 탐색, 통계 분석, 인터랙티브 대시보드를 만듭니다.",
  difficulty: "intermediate",
  estimatedMinutes: 25,
  plugins: ["data", "alpha-vantage"],
  icon: "BarChart3",
  steps: [
    {
      id: 0,
      title: "기본 SQL 쿼리 작성",
      content: "sales_transactions 테이블에서 월별 매출, 영업사원 순위, 지역별 매출 비중을 조회하는 SQL을 작성합니다.",
      type: "exercise",
      command: { text: "/data:write-query", plugin: "data", sandboxResponseId: "data-sql-basic" },
      hints: ["DB 종류(PostgreSQL, Snowflake 등)를 명시하세요", "테이블 구조와 원하는 분석을 구체적으로 설명하세요"],
      expectedResult: "SQL 쿼리 코드 (하이라이팅)",
      xpReward: 20,
    },
    {
      id: 1,
      title: "데이터 프로파일링",
      content: "CSV 데이터의 품질과 패턴을 분석합니다.\n결측값, 이상치, 분포, 주요 패턴을 확인합니다.",
      type: "exercise",
      command: { text: "/data:explore-data", plugin: "data", sandboxResponseId: "data-explore" },
      hints: ["CSV 데이터를 직접 붙여넣거나 테이블 구조를 설명하세요"],
      xpReward: 20,
    },
    {
      id: 2,
      title: "영업 성과 통계 분석",
      content: "영업팀 성과 데이터를 통계적으로 분석합니다.\n매출 트렌드, 전환율, 효율성을 평가합니다.",
      type: "exercise",
      command: { text: "/data:analyze", plugin: "data", sandboxResponseId: "data-analyze-sales" },
      hints: ["표 형태로 데이터를 제공하면 정확한 분석을 받을 수 있습니다"],
      xpReward: 25,
    },
    {
      id: 3,
      title: "시각화 생성 (Python)",
      content: "월별 매출 데이터로 막대차트, 누적 라인차트, 성장률 차트를 생성합니다.\n한국어 라벨과 금액 단위(억원)를 사용합니다.",
      type: "exercise",
      command: { text: "/data:create-viz", plugin: "data", sandboxResponseId: "data-viz" },
      hints: ["한국어 라벨, 금액 단위(억원)를 명시하면 결과가 좋습니다"],
      xpReward: 20,
    },
    {
      id: 4,
      title: "인터랙티브 대시보드",
      content: "영업팀 성과 대시보드를 HTML로 만듭니다.\n월별 매출, 영업사원별 실적, 지역별 비중, 파이프라인 퍼널을 포함합니다.",
      type: "exercise",
      command: { text: "/data:build-dashboard", plugin: "data", sandboxResponseId: "data-dashboard" },
      hints: ["포함할 차트 종류와 데이터를 구체적으로 명시하세요"],
      expectedResult: "인터랙티브 HTML 대시보드",
      xpReward: 30,
    },
    {
      id: 5,
      title: "분석 결과 검증 (QA)",
      content: "분석 결과의 정확성, 논리적 일관성, 바이어스를 검증합니다.\n중요한 분석은 반드시 검증 단계를 거쳐야 합니다.",
      type: "exercise",
      command: { text: "/data:validate", plugin: "data", sandboxResponseId: "data-validate" },
      xpReward: 20,
    },
    {
      id: 6,
      title: "핵심 팁",
      content: "Data 플러그인 활용 팁:\n\n1. **SQL 방언**: Snowflake, BigQuery, PostgreSQL 등 사용하는 DB를 명시하세요\n2. **시각화**: 한국어 라벨, 금액 단위(억원) 등을 명시하면 결과가 좋습니다\n3. **대시보드**: HTML로 생성되어 브라우저에서 바로 열 수 있습니다\n4. **검증**: 중요한 분석은 반드시 `/data:validate`로 QA 하세요",
      type: "guide",
      xpReward: 10,
    },
  ],
}
