import type { Tutorial } from "@/types/tutorial"

export const tutorial07: Tutorial = {
  slug: "07-customer-management",
  title: "고객 관리와 지원",
  description: "Customer Support 플러그인과 Enterprise Search로 고객 문의 처리, 에스컬레이션, KB 문서 작성까지 전체 워크플로우를 실습합니다.",
  difficulty: "intermediate",
  estimatedMinutes: 20,
  plugins: ["customer-support", "enterprise-search"],
  icon: "Headphones",
  steps: [
    {
      id: 0,
      title: "티켓 분류 (Triage)",
      content: "KB국민은행에서 긴급 고객 문의가 들어왔습니다.\n실시간 시세 데이터 10분 이상 지연 - 트레이딩 룸 업무 불가 상황.\n우선순위를 판단하고 적절한 담당자에게 배정합니다.",
      type: "exercise",
      command: { text: "/customer-support:triage", plugin: "customer-support", sandboxResponseId: "cs-triage" },
      hints: ["고객 등급(Premium), SLA, 영향 범위를 함께 입력하세요"],
      expectedResult: "우선순위 (P1~P4), 카테고리, 담당팀, 예상 해결 시간",
      xpReward: 25,
    },
    {
      id: 1,
      title: "고객 응답 작성",
      content: "실시간 시세 데이터 지연 장애에 대한 고객 응답을 작성합니다.\n공식적이면서도 진정성 있는 톤으로, 사과, 현황, 복구 예상 시간을 포함합니다.",
      type: "exercise",
      command: { text: "/customer-support:draft-response", plugin: "customer-support", sandboxResponseId: "cs-draft-response" },
      hints: ["고객 상황, 우선순위, 현재 상태, 톤을 명시하세요"],
      xpReward: 25,
    },
    {
      id: 2,
      title: "기술 문의 조사",
      content: "REST API 대량 주문 조회 시 타임아웃 이슈를 조사합니다.\n페이지네이션, 최적화 방법, 벌크 다운로드 API 존재 여부를 확인합니다.",
      type: "exercise",
      command: { text: "/customer-support:research", plugin: "customer-support", sandboxResponseId: "cs-research" },
      xpReward: 20,
    },
    {
      id: 3,
      title: "에스컬레이션",
      content: "KB국민은행 WebSocket 연결 간헐적 끊김 이슈를 엔지니어링팀에 에스컬레이션합니다.\n비즈니스 임팩트(계약 갱신 위험)와 이미 시도한 조치를 포함합니다.",
      type: "exercise",
      command: { text: "/customer-support:escalate", plugin: "customer-support", sandboxResponseId: "cs-escalate" },
      hints: ["비즈니스 임팩트, 재현 조건, 이미 시도한 조치를 포함하세요"],
      expectedResult: "에스컬레이션 리포트 (기술 상세 + 비즈니스 임팩트)",
      xpReward: 25,
    },
    {
      id: 4,
      title: "KB 문서 작성",
      content: "자주 묻는 질문(API 인증 방법)에 대한 지식 베이스 문서를 작성합니다.\nAPI Key 발급, OAuth 2.0, 토큰 갱신, 오류 해결법을 포함합니다.",
      type: "exercise",
      command: { text: "/customer-support:kb-article", plugin: "customer-support", sandboxResponseId: "cs-kb-article" },
      xpReward: 20,
    },
    {
      id: 5,
      title: "통합 검색",
      content: "Enterprise Search로 \"KB국민은행 WebSocket 장애\" 관련 내부 문서, 이전 티켓, 기술 문서를 검색합니다.",
      type: "exercise",
      command: { text: "/enterprise-search:search", plugin: "enterprise-search", sandboxResponseId: "es-search" },
      xpReward: 15,
    },
    {
      id: 6,
      title: "핵심 팁",
      content: "고객 관리 플러그인 활용 팁:\n\n1. **고객 등급 명시**: Premium, Standard 등 고객 등급에 따라 응대 톤과 우선순위가 달라집니다\n2. **SLA 확인**: 에스컬레이션 시 SLA 조건을 반드시 포함하세요\n3. **이력 참조**: 이전 티켓이나 대화 이력을 제공하면 더 맥락 있는 답변을 받습니다\n4. **KB 문서화**: 반복 문의는 즉시 KB 문서로 작성하면 향후 효율이 높아집니다",
      type: "guide",
      xpReward: 10,
    },
  ],
}
