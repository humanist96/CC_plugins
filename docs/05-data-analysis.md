# 튜토리얼 05: 데이터 분석과 시각화

> 난이도: 중급 | 소요시간: 25분

## 학습 목표

- Data 플러그인으로 SQL 쿼리 작성하기
- 데이터 탐색 및 통계 분석 실습
- 인터랙티브 대시보드 만들기

## Data 플러그인 명령어 총정리

| 명령어 | 기능 |
|--------|------|
| `/data:analyze` | 데이터 분석 (질문 기반) |
| `/data:write-query` | SQL 쿼리 작성 |
| `/data:explore-data` | 데이터 탐색 및 프로파일링 |
| `/data:build-dashboard` | 인터랙티브 대시보드 생성 |
| `/data:create-viz` | 시각화 생성 (Python) |
| `/data:validate` | 분석 결과 검증 (QA) |

## 실습 1: SQL 쿼리 작성

### 1-1. 기본 조회 쿼리

```
/data:write-query
```

입력:

```
다음 테이블에서 SQL 쿼리를 작성해줘. (PostgreSQL 기준)

테이블: sales_transactions
컬럼: id, customer_id, product_name, amount, quantity, sale_date, region, salesperson

요청:
1. 2025년 4분기 월별 매출 합계와 거래 건수
2. 영업사원별 매출 순위 (TOP 10)
3. 지역별 매출 비중
```

### 1-2. 복잡한 분석 쿼리

```
다음 쿼리를 작성해줘 (Snowflake 기준):

테이블:
- customers (id, name, industry, created_at)
- orders (id, customer_id, amount, status, created_at)
- products (id, name, category, price)
- order_items (order_id, product_id, quantity, unit_price)

분석 요청:
1. 고객별 LTV(생애 가치) 계산 - 최근 12개월 기준
2. 월별 신규 고객 수와 재구매 고객 비율
3. 이탈 고객 분석 (최근 3개월 주문 없는 고객)
4. 상품 카테고리별 크로스셀링 분석
```

### 1-3. 윈도우 함수 활용

```
윈도우 함수를 사용해서 다음을 계산하는 SQL을 작성해줘:

1. 고객별 누적 매출 (Running Total)
2. 월별 매출 전월 대비 성장률 (MoM Growth)
3. 영업사원별 3개월 이동평균 매출
4. 각 지역 내 매출 순위 (Rank)
```

## 실습 2: 데이터 탐색

### 2-1. 데이터 프로파일링

```
/data:explore-data
```

입력:

```
다음 CSV 데이터의 품질과 패턴을 분석해줘:

customer_id,name,age,income,region,signup_date,last_purchase,total_spent
1001,김철수,35,5500,서울,2023-01-15,2025-12-01,15000000
1002,이영희,28,4200,부산,2023-03-22,2025-11-15,8500000
1003,박민수,42,7800,서울,2022-06-10,2025-12-10,32000000
1004,최수진,,3800,대전,2023-08-01,,2000000
1005,정태영,55,12000,서울,2021-12-05,2025-10-01,45000000
1006,한지민,31,4800,인천,2024-01-20,2025-12-15,6000000

확인할 사항:
- 결측값, 이상치
- 데이터 분포
- 주요 패턴 및 인사이트
```

### 2-2. 실제 주가 데이터 탐색

```
AAPL의 최근 6개월 일간 주가 데이터를 조회하고,
수익률 분포, 변동성, 이상치를 분석해줘
```

## 실습 3: 통계 분석

### 3-1. 영업 성과 통계 분석

```
/data:analyze
```

입력:

```
다음 영업팀 성과 데이터를 통계적으로 분석해줘:

| 영업사원 | Q1매출 | Q2매출 | Q3매출 | Q4매출 | 미팅수 | 계약건수 | 평균계약규모 |
|---------|--------|--------|--------|--------|--------|---------|------------|
| 김민수 | 25억 | 30억 | 28억 | 35억 | 120 | 15 | 7.9억 |
| 이영진 | 18억 | 22억 | 25억 | 28억 | 95 | 12 | 7.8억 |
| 박서준 | 32억 | 28억 | 30억 | 33억 | 85 | 10 | 12.3억 |
| 최유진 | 15억 | 20억 | 22억 | 30억 | 130 | 18 | 4.8억 |
| 정하늘 | 20억 | 19억 | 21억 | 24억 | 110 | 14 | 6.0억 |

분석 항목:
1. 각 영업사원의 매출 성장 트렌드
2. 미팅수 대비 계약 전환율
3. 가장 효율적인 영업사원 (ROI 관점)
4. Q1 대비 Q4 성장률 순위
```

### 3-2. 시장 상관관계 분석

```
AAPL, MSFT, GOOGL, AMZN, NVDA의 최근 3개월 주가 데이터를 조회하고
종목 간 상관관계를 분석해줘. 상관계수 행렬도 보여줘.
```

## 실습 4: 시각화

### 4-1. Python 차트 생성

```
/data:create-viz
```

입력:

```
다음 데이터로 시각화를 만들어줘:

월별 매출 데이터:
- 1월: 12억, 2월: 14억, 3월: 18억, 4월: 16억
- 5월: 20억, 6월: 22억, 7월: 19억, 8월: 25억
- 9월: 28억, 10월: 30억, 11월: 32억, 12월: 35억

목표 매출: 월 25억

요청:
1. 막대차트 + 목표선 (빨간 점선)
2. 누적 매출 라인차트
3. 전월 대비 성장률 차트
한국어 라벨 사용
```

### 4-2. 주가 차트 시각화

```
Tesla(TSLA)의 최근 1년간 주가 데이터를 조회해서
캔들스틱 차트와 거래량 차트를 만들어줘.
20일, 60일 이동평균선도 함께 표시해줘.
```

## 실습 5: 인터랙티브 대시보드

### 5-1. 영업 대시보드

```
/data:build-dashboard
```

입력:

```
영업팀 성과 대시보드를 HTML로 만들어줘:

데이터:
- 월별 매출: 1월 12억 ~ 12월 35억 (위 데이터 사용)
- 영업사원별 실적: 김민수 118억, 이영진 93억, 박서준 123억, 최유진 87억, 정하늘 84억
- 지역별 매출: 서울 45%, 부산 20%, 대전 15%, 인천 12%, 기타 8%
- 파이프라인: 발굴 5건/40억, 제안 8건/65억, 협상 3건/30억, 완료 15건/120억

포함할 차트:
1. 월별 매출 추이 (바차트)
2. 영업사원별 실적 비교 (바차트)
3. 지역별 매출 비중 (파이차트)
4. 파이프라인 퍼널 (퍼널차트)

필터: 분기별 필터 드롭다운 추가
```

### 5-2. 주식 모니터링 대시보드

```
다음 종목들의 실시간 데이터로 모니터링 대시보드를 만들어줘:
AAPL, MSFT, GOOGL, AMZN, NVDA

포함 항목:
- 각 종목 현재가 및 등락률 카드
- 주간 주가 추이 비교 차트
- 섹터별 시가총액 비중
- 거래량 비교
```

## 실습 6: 분석 결과 검증

### 6-1. 분석 QA

```
/data:validate
```

입력:

```
다음 분석 결과를 검증해줘:

분석 제목: 2025년 연간 영업 성과 분석
주요 결론:
1. 연간 매출 505억으로 전년 대비 35% 성장
2. 영업사원 1인당 평균 매출 101억
3. 미팅-계약 전환율 평균 12.5%
4. 수도권 매출 비중 57%
5. Q4 매출이 연간의 40% 차지

원본 데이터: (위 실습의 영업사원 데이터)

검증 항목:
- 계산 정확성
- 논리적 일관성
- 바이어스 점검
```

## 핵심 팁

1. **SQL 방언**: Snowflake, BigQuery, PostgreSQL 등 사용하는 DB를 명시하세요
2. **시각화**: 한국어 라벨, 금액 단위(억원) 등을 명시하면 결과가 좋습니다
3. **대시보드**: HTML로 생성되어 브라우저에서 바로 열 수 있습니다
4. **검증**: 중요한 분석은 반드시 `/data:validate`로 QA 하세요

## 다음 단계

[튜토리얼 06: 기술적 지표 분석](06-technical-indicators.md)로 이동하여 RSI, MACD, 볼린저밴드 등 고급 기술적 분석을 배워보세요.
